From: http://xenbits.xensource.com/linux-2.6.18-xen.hg?rev/eebccbc294da
# HG changeset patch
# User Keir Fraser <keir.fraser@citrix.com>
# Date 1253603019 -3600
# Node ID eebccbc294dad786b2b14892bf1e60d0034f8f0d
# Parent  f1a207ccb4934787a18e37458162232fd4ede6d1
Subject: xen/edac: force proper address translation in EDAC
Patch-mainline: n/a

Signed-off-by: Jan Beulich <jbeulich@novell.com>

--- sle11-2009-09-18.orig/drivers/edac/edac_mc.c	2008-07-13 23:51:29.000000000 +0200
+++ sle11-2009-09-18/drivers/edac/edac_mc.c	2009-09-18 11:38:11.000000000 +0200
@@ -580,6 +580,10 @@ static void edac_mc_scrub_block(unsigned
 
 	debugf3("%s()\n", __func__);
 
+#ifdef CONFIG_XEN
+	page = mfn_to_local_pfn(page);
+#endif
+
 	/* ECC error page was not in our memory. Ignore it. */
 	if (!pfn_valid(page))
 		return;
