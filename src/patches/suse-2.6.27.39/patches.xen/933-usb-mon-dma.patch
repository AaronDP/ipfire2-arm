From: http://xenbits.xensource.com/linux-2.6.18-xen.hg?rev/1fcc9557d5ef
# HG changeset patch
# User Keir Fraser <keir.fraser@citrix.com>
# Date 1253603047 -3600
# Node ID 1fcc9557d5ef55d03b128a04cab4bd7227413aa7
# Parent  eebccbc294dad786b2b14892bf1e60d0034f8f0d
Subject: xen/usb: force proper address translation in USB monitor
Patch-mainline: n/a

Signed-off-by: Jan Beulich <jbeulich@novell.com>

--- sle11-2009-09-18.orig/drivers/usb/mon/mon_dma.c	2007-04-26 05:08:32.000000000 +0200
+++ sle11-2009-09-18/drivers/usb/mon/mon_dma.c	2009-09-18 11:13:41.000000000 +0200
@@ -19,7 +19,11 @@
 #if defined(__i386__) || defined(__x86_64__) /* CONFIG_ARCH_I386 doesn't exit */
 #define MON_HAS_UNMAP 1
 
+#ifndef CONFIG_XEN
 #define phys_to_page(phys)	pfn_to_page((phys) >> PAGE_SHIFT)
+#else
+#define phys_to_page(phys)	pfn_to_page(mfn_to_local_pfn((phys) >> PAGE_SHIFT))
+#endif
 
 char mon_dmapeek(unsigned char *dst, dma_addr_t dma_addr, int len)
 {
