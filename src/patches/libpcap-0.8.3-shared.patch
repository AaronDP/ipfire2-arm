diff -ruN libpcap-0.8.3.old/Makefile.in libpcap-0.8.3/Makefile.in
--- libpcap-0.8.3.old/Makefile.in	2001-01-18 05:05:12.000000000 +0100
+++ libpcap-0.8.3/Makefile.in	2004-01-25 14:40:47.000000000 +0100
@@ -22,6 +22,10 @@
 #
 # Various configurable paths (remember to edit Makefile.in, not Makefile)
 #
+MAJOR=0
+MINOR=8
+SUBMINOR=3
+VERSION = $(MAJOR).$(MINOR).$(SUBMINOR)
 
 # Top level hierarchy
 prefix = @prefix@
@@ -47,7 +51,7 @@
 DEFS = @DEFS@
 
 # Standard CFLAGS
-CFLAGS = $(CCOPT) $(INCLS) $(DEFS)
+CFLAGS = $(CCOPT) $(INCLS) $(DEFS) -fPIC -DPIC
 
 INSTALL = @INSTALL@
 INSTALL_PROGRAM = @INSTALL_PROGRAM@
@@ -91,9 +95,14 @@
 TAGFILES = \
 	$(SRC) $(HDR) $(TAGHDR)
 
-CLEANFILES = $(OBJ) libpcap.a $(GENSRC) $(GENHDR) lex.yy.c
 
-all: libpcap.a
+
+CLEANFILES = $(OBJ) libpcap.a $(GENSRC) $(GENHDR) lex.yy.c libpcap.so.$(VERSION)
+
+all: libpcap.a libpcap.so.$(VERSION)
+
+libpcap.so.$(VERSION):
+	gcc -shared -Wl,-soname -Wl,libpcap.so.$(VERSION) -o libpcap.so.$(VERSION) $(OBJ) -lc
 
 libpcap.a: $(OBJ)
 	@rm -f $@
@@ -139,6 +148,10 @@
 	[ -d $(DESTDIR)$(libdir) ] || \
 	    (mkdir -p $(DESTDIR)$(libdir); chmod 755 $(DESTDIR)$(libdir))
 	$(INSTALL_DATA) libpcap.a $(DESTDIR)$(libdir)/libpcap.a
+	$(INSTALL_DATA) libpcap.so.$(VERSION)  $(DESTDIR)$(libdir)/libpcap.so.$(VERSION)
+	ln -sf libpcap.so.$(VERSION) $(DESTDIR)$(libdir)/libpcap.so
+	ln -sf libpcap.so.$(VERSION) $(DESTDIR)$(libdir)/libpcap.so.$(MAJOR)
+	ln -sf libpcap.so.$(VERSION) $(DESTDIR)$(libdir)/libpcap.so.$(MAJOR).$(MINOR)
 	$(RANLIB) $(DESTDIR)$(libdir)/libpcap.a
 	[ -d $(DESTDIR)$(includedir) ] || \
 	    (mkdir -p $(DESTDIR)$(includedir); chmod 755 $(DESTDIR)$(includedir))
